<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>elasticsearch一款纯纯的搜索引擎 | 时刻准备着</title>
    <meta name="description" content="elasticsearch一款纯纯的搜索引擎">
    <link rel="stylesheet" href="/blog/assets/style.9243fa93.css">
    <link rel="modulepreload" href="/blog/assets/Home.507f1afe.js">
    <link rel="modulepreload" href="/blog/assets/app.c9d31e7e.js">
    <link rel="modulepreload" href="/blog/assets/posts_elasticsearch.md.4385564b.lean.js">
    
    <meta name="twitter:title" content="elasticsearch一款纯纯的搜索引擎 | 时刻准备着">
  <meta property="og:title" content="elasticsearch一款纯纯的搜索引擎 | 时刻准备着">
  </head>
  <body>
    <div id="app"><!--[--><div id="cssid" class="theme" data-v-3eaa5914><!--[--><div class="theme"><header class="nav-bar" data-v-40587210><div class="sidebar-button" data-v-40587210><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/blog/" aria-label="时刻准备着, back to home" data-v-40587210 data-v-7ac13a1e><!----> 时刻准备着</a><div class="flex-grow" data-v-40587210></div><div class="nav" data-v-40587210><nav class="nav-links" data-v-40587210 data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/blog/" data-v-49fe041d>主页 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/blog/pages/archives" data-v-49fe041d>归档 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/blog/pages/tags" data-v-49fe041d>分类 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/blog/pages/about" data-v-49fe041d>关于 <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-17c48e2f><nav class="nav-links nav" data-v-17c48e2f data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/blog/" data-v-49fe041d>主页 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/blog/pages/archives" data-v-49fe041d>归档 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/blog/pages/tags" data-v-49fe041d>分类 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/blog/pages/about" data-v-49fe041d>关于 <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-17c48e2f><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="#docker安装">docker安装</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#安装es">安装es</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#安装kibana">安装kibana</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#postman-访问https-es">postman 访问https es</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#ssl-验证">ssl 验证</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#方式一">方式一</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#方式二">方式二</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#方式三">方式三</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#"></a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#批量导入es数据，使用postman导入">批量导入es数据，使用postman导入</a><!----></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-8fcebc32><div class="container" data-v-8fcebc32><!--[--><!--]--><div style="position:relative;" class="content" data-v-8fcebc32><div><meta name="referrer" content="no-referrer"><h1 id="背景" tabindex="-1">背景 <a class="header-anchor" href="#背景" aria-hidden="true">#</a></h1><p>一款纯纯的搜索引擎</p><h1 id="流行度" tabindex="-1">流行度 <a class="header-anchor" href="#流行度" aria-hidden="true">#</a></h1><p>可以查看这个网站 <a href="https://db-engines.com/en/ranking" target="_blank" rel="noopener noreferrer">https://db-engines.com/en/ranking</a></p><h1 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h1><p>es8现在已经默认加入安全模式，使用https连接。</p><h2 id="docker安装" tabindex="-1">docker安装 <a class="header-anchor" href="#docker安装" aria-hidden="true">#</a></h2><h3 id="安装es" tabindex="-1">安装es <a class="header-anchor" href="#安装es" aria-hidden="true">#</a></h3><blockquote><p><strong>创建网络</strong> docker network create elastic <strong>运行es</strong> docker run -d --name es01 --net elastic -p 9200:9200 -p 9300:9300 elasticsearch:8.1.1 <strong>重置密码</strong> docker exec -it es01 /usr/share/elasticsearch/bin/elasticsearch-reset-password -u elastic <strong>用户名</strong> elastic <strong>密码</strong> TL=53_6v2Ak2g_jkZhqc <strong>生成kibana token</strong> docker exec -it es01 /usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token --scope kibana <strong>复制证书到当前文件夹下</strong> docker cp es01:/usr/share/elasticsearch/config/certs/http_ca.crt .</p></blockquote><h3 id="安装kibana" tabindex="-1">安装kibana <a class="header-anchor" href="#安装kibana" aria-hidden="true">#</a></h3><blockquote><p><strong>运行kb</strong> docker run -d --name kb01 --net elastic -p 5601:5601 kibana:8.1.1 <strong>生成验证码</strong> docker exec -it kb01 /usr/share/kibana/bin/kibana-verification-code</p></blockquote><h1 id="postman操作es" tabindex="-1">postman操作es <a class="header-anchor" href="#postman操作es" aria-hidden="true">#</a></h1><h2 id="postman-访问https-es" tabindex="-1">postman 访问https es <a class="header-anchor" href="#postman-访问https-es" aria-hidden="true">#</a></h2><h3 id="ssl-验证" tabindex="-1">ssl 验证 <a class="header-anchor" href="#ssl-验证" aria-hidden="true">#</a></h3><p>直接忽略ssl <img src="https://cdn.nlark.com/yuque/0/2022/png/25635684/1648605487090-eadff1e7-9027-474e-8bba-e5a69202fb54.png#clientId=u878a19fd-d68d-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=646&amp;id=u634e1964&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=807&amp;originWidth=1178&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=119528&amp;status=done&amp;style=none&amp;taskId=u2a96882a-31fa-4907-8537-df176df81ae&amp;title=&amp;width=942.4" alt="image.png"> 直接加入crt证书 <img src="https://cdn.nlark.com/yuque/0/2022/png/25635684/1648605422566-f16b84af-a97e-4d96-ae23-f929e37ace1a.png#clientId=u878a19fd-d68d-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=475&amp;id=u3fb730f0&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=594&amp;originWidth=1313&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=88917&amp;status=done&amp;style=none&amp;taskId=uebe4c3e4-0d7c-4b64-b897-0156bf60ccd&amp;title=&amp;width=1050.4" alt="image.png"></p><h3 id="方式一" tabindex="-1">方式一 <a class="header-anchor" href="#方式一" aria-hidden="true">#</a></h3><p>postman中就有Authorization这一栏，只需要选择相应的认证方式后，在右侧输入用户名和密码就好了 <img src="https://cdn.nlark.com/yuque/0/2022/png/25635684/1648604253370-99eb507f-5c73-4e12-b7a5-f70e3652b5d8.png#clientId=u878a19fd-d68d-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=542&amp;id=u3b6c5639&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=678&amp;originWidth=1372&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=101485&amp;status=done&amp;style=none&amp;taskId=ua83f86ef-6567-4e06-aa4c-478f3ba4690&amp;title=&amp;width=1097.6" alt="image.png"></p><h3 id="方式二" tabindex="-1">方式二 <a class="header-anchor" href="#方式二" aria-hidden="true">#</a></h3><p>因为在es的配置文件中，选用的加密方式为basic，也就是该项xpack.license.self_generated.type: basic，对用户名密码进行手动加密，访问<a href="https://www.base64encode.org/" target="_blank" rel="noopener noreferrer">https://www.base64encode.org/</a>地址，在输入框中输入elastic:123456，进行加密，并在头部加上“Basic ”字符串就是最终的Authorization的值了。 <img src="https://cdn.nlark.com/yuque/0/2022/png/25635684/1648604467872-23f87a20-12a6-42aa-b1eb-88f4e09f8303.png#clientId=u878a19fd-d68d-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=369&amp;id=u88c15004&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=461&amp;originWidth=1210&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=46855&amp;status=done&amp;style=none&amp;taskId=u1cbfaaf4-e30c-401e-88f4-6dab7253c82&amp;title=&amp;width=968" alt="image.png"></p><h3 id="方式三" tabindex="-1">方式三 <a class="header-anchor" href="#方式三" aria-hidden="true">#</a></h3><p>此方式和第二种类似，将获取到的Authorization拷贝到postman中 <img src="https://cdn.nlark.com/yuque/0/2022/png/25635684/1648604610419-5b0ab4ae-959a-4eaf-bff9-a8963bb16caa.png#clientId=u878a19fd-d68d-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=594&amp;id=u39541e71&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=742&amp;originWidth=1191&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=94318&amp;status=done&amp;style=none&amp;taskId=u9fe66339-56bd-46dd-a9d4-3d3930b1b42&amp;title=&amp;width=952.8" alt="image.png"></p><h2 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h2><h2 id="批量导入es数据，使用postman导入" tabindex="-1">批量导入es数据，使用postman导入 <a class="header-anchor" href="#批量导入es数据，使用postman导入" aria-hidden="true">#</a></h2><p>前提：完成前面提到的验证登录https post方式导入，参数放入body内，以json方式提交。 <img src="https://cdn.nlark.com/yuque/0/2022/png/25635684/1648604788535-be204168-14bf-4704-acbe-41919ad85d38.png#clientId=u878a19fd-d68d-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=497&amp;id=ub1988b4c&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=621&amp;originWidth=1395&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=109066&amp;status=done&amp;style=none&amp;taskId=u423ba4a5-0f96-4014-b441-66abd04ba84&amp;title=&amp;width=1116" alt="image.png"> 导入演示数据<a href="https://www.yuque.com/attachments/yuque/0/2022/json/25635684/1648604849290-1dc3156b-20fd-448f-bb26-14e5cfe31efd.json?_lake_card=%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2022%2Fjson%2F25635684%2F1648604849290-1dc3156b-20fd-448f-bb26-14e5cfe31efd.json%22%2C%22name%22%3A%22accounts.json%22%2C%22size%22%3A242848%2C%22type%22%3A%22application%2Fjson%22%2C%22ext%22%3A%22json%22%2C%22status%22%3A%22done%22%2C%22taskId%22%3A%22ue01fff12-1f79-4a12-b838-cb2e34050a2%22%2C%22taskType%22%3A%22upload%22%2C%22id%22%3A%22u72349295%22%2C%22card%22%3A%22file%22%7D" target="_blank" rel="noopener noreferrer">accounts.json</a>（官方提供在es6最后一个版本）</p></div></div><footer class="page-footer" data-v-8fcebc32 data-v-5c96fb00><div class="edit" data-v-5c96fb00><div class="edit-link" data-v-5c96fb00 data-v-55695e90><!----></div></div><div class="updated" data-v-5c96fb00><!----></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div><div class="theme-select" data-v-3eaa5914><ul data-v-3eaa5914><li class="active" data-v-3eaa5914> ☀️ </li><li class="" data-v-3eaa5914> 🌑 </li></ul></div><div class="site-footer" data-v-3eaa5914> MIT Licensed | Copyright © 2023 <a class="vitepress" href="https://github.com/shadowLQ/blog">时刻准备着</a><br> Powered by <a class="vitepress" target="_blank" href="//vitepress.vuejs.org/">VitePress</a></div><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"11c657aa\",\"pages_about.md\":\"c5328474\",\"pages_archives.md\":\"ebd2c98a\",\"pages_tags.md\":\"41ee4df4\",\"posts_2022年apple春季新品发布会.md\":\"9b447e43\",\"posts_2022年apple秋季新品发布会.md\":\"2b224bd2\",\"posts_bigdecimal的使用与注意事项.md\":\"e7aad166\",\"posts_docker.md\":\"a4ac81fb\",\"posts_vue2.0.md\":\"17370247\",\"posts_elasticsearch.md\":\"4385564b\",\"posts_jetbrains 如何申请正版的激活码.md\":\"ca834e35\",\"posts_mac和window互传文件.md\":\"abf94622\",\"posts_yarn.md\":\"78ed27f4\",\"posts_常用分布式id解决方案.md\":\"59b4db64\"}")</script>
    <script type="module" async src="/blog/assets/app.c9d31e7e.js"></script>
    
  </body>
</html>